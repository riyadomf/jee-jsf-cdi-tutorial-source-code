<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
   <title>View Scope Demo</title>
</h:head>
<h:body>
   <h2>Live Poll (View Scope)</h2>
   <h:form id="pollForm">
      <p:panel header="Which language do you prefer?">
         <p:selectOneRadio value="#{pollBean.selectedOption}" layout="pageDirection">
            <f:selectItem itemLabel="Java" itemValue="java"/>
            <f:selectItem itemLabel="C#" itemValue="csharp"/>
         </p:selectOneRadio>

         <br/>
         <p:commandButton value="Vote!" action="#{pollBean.applicationVote}" update="resultsPanel"/>

         <p:panel id="resultsPanel" header="Live Results" style="margin-top:20px;">
            <h:panelGrid columns="2">
               <h:outputText value="Votes for Java:"/>
               <h:outputText value="#{pollBean.votesForJava}"/>

               <h:outputText value="Votes for C#:"/>
               <h:outputText value="#{pollBean.votesForCSharp}"/>
            </h:panelGrid>

            <div style="background-color: lightgray; padding: 5px; border: 1px solid black; width: fit-content;">
               <h:outputText value="Total Site Votes: #{siteStatsBean.totalVotes}"/>
            </div>
         </p:panel>
      </p:panel>


   </h:form>


</h:body>
</html>